# 程序监控与异常防护-PART-Simulink-看门狗

## 关键词
**看门狗、程序监控、异常处理、Simulink、自动化控制**

---

## 一、问题分析：为什么需要看门狗
在自动化实验控制平台中，我们经常会遇到以下问题：  

- 程序异常卡死，设备失去响应  
- 外部干扰导致循环逻辑中断，控制器失效  
- 长时间运行后，系统出现未捕获的死锁或内存泄露  

**示例**：  
你在半实物仿真实验室中使用控制器控制移动小车，如果程序在中途卡死，小车可能持续运行或停在半路，造成实验翻车。  

**工程原因**：  
系统程序通常是顺序或循环逻辑，如果没有实时检测机制，一旦进入死循环或异常状态，程序可能一直占用资源，无法处理新的指令。  

**解决思路**：  
看门狗（Watchdog）是一种硬件或软件计时器，用于监控程序是否正常执行。如果程序长时间没有“喂狗”（即复位计时器），看门狗会触发异常处理或重启系统，保证设备安全运行。

---

## 二、处理思路

###  软件看门狗模块
- 通过定时器在程序中定期检查各模块状态  
- 出现异常可以调用错误处理函数或重启应用层程序  

**优势**：  
- 灵活，可监控多任务  

**注意**：  
- 必须确保软件本身不会被整体卡死，否则失效  

![](images-part/PART-Simulink-看门狗.png)

###  实际工程案例
- 实验室移动小车控制程序中，增加了 500ms 的硬件看门狗  
- 每完成一次速度控制循环，即“喂狗”  
- 如果主循环卡死超过 500ms，看门狗触发复位，小车自动停止，避免碰撞  

**经验边界**：  

- 看门狗保护是最后一道防线，不能替代代码的异常处理  
- 过度依赖看门狗可能掩盖软件逻辑缺陷  

---

## 三、经验提示与小结

### 经验提示
1. 看门狗是安全机制，不是性能优化工具  
2. 喂狗必须在正常任务完成后，不要在异常或死循环中盲目喂狗  
3. 在多任务系统中，可结合软件和硬件看门狗，提高可靠性  

## 🔑 说明

1. >本文首发于【GitHub/Gitee】，作者：KANIC，研究方向为 自动化实验平台、控制算法验证及半实物仿真系统。

   相关实验或程序已整理至 GitHub，可在 GitHub 平台搜索 KANIC-lab/KANIC 查看。

   如需进一步讨论，可私信联系，并注明文章编号。文章编号位于标题末尾，以字母开头如“EXP-XXXX-XXX”



